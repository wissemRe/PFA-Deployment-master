{% extends "layouts/base.html" %}

{% block title %} Page User {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
    <h6 class="card-category">
        {% if success %}
            {% if msg %}
                <span class="text-success">{{ msg | safe }}</span>
            {% endif %}
        {% else %}
            {% if msg %}
                <span class="text-danger">{{ msg | safe }}</span>
            {% endif %}
        {% endif %}
    </h6>

    <div class="row">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header card-header-info">
                    <h4 class="card-title">Edit Profile</h4>
                    <p class="card-category">Complete your profile</p>
                </div>
                <div class="card-body">
                    <form method='POST' action="/updateProfile/" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-md-5">
                                <div class="form-group">
                                    <label class="bmd-label-floating">UserID (disabled)</label>
                                    <input type="text" class="form-control" disabled value="{{ request.user.id }}">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    <label class="bmd-label-floating" draggable="true">Username</label>
                                    <input type="text" name="username" class="form-control" required
                                           value="{{ request.user.username }}">
                                </div>
                                <span class="text-danger">{{ u_form.username.errors }}</span>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="bmd-label-floating">Email address</label>
                                    <input type="text" name="email" class="form-control" required
                                           value="{{ request.user.email }}">
                                </div>
                                <span class="text-danger">{{ u_form.email.errors }}</span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="bmd-label-floating" draggable="true">first name</label>
                                    <input type="text" name="first_name" class="form-control"
                                           value="{{ request.user.first_name }}">
                                </div>
                                <span class="text-danger">{{ u_form.first_name.errors }}</span>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="bmd-label-floating">last name</label>
                                    <input type="text" name="last_name" class="form-control"
                                           value="{{ request.user.last_name }}">
                                </div>
                                <span class="text-danger">{{ u_form.last_name.errors }}</span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="bmd-label-floating">Address</label>
                                    <input type="text" name="address" class="form-control"
                                           value="{{ profile.address }}">
                                </div>
                                <span class="text-danger">{{ p_form.address.errors }}</span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="bmd-label-floating" draggable="true">Country</label>
                                    <input type="text" name="country" class="form-control"
                                           value="{{ profile.country }}">
                                </div>
                                <span class="text-danger">{{ p_form.country.errors }}</span>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="bmd-label-floating" draggable="true">City</label>
                                    <input type="text" name="city" class="form-control"
                                           value="{{ profile.city }}">
                                </div>
                                <span class="text-danger">{{ p_form.city.errors }}</span>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="bmd-label-floating">Postal Code</label>
                                    <input type="text" name="postalcode" class="form-control"
                                           value="{{ profile.postalcode }}">
                                </div>
                                <span class="text-danger">{{ p_form.postalcode.errors }}</span>
                            </div>
                        </div>

                        <div class="row">

                            <div class="col-md-12">
                                <label class="bmd-label-floating" draggable="true">Avatar</label>
                                <div>{{ p_form.avatar }}</div>
                                <span class="text-danger">{{ p_form.avatar.errors }}</span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="form-group">
                                        <label class="bmd-label-floating"> Lamborghini Mercy, Your chick she so thirsty,
                                            I'm in that two seat Lambo.</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button type='submit' class="btn btn-primary pull-right">Update Profile</button>
                        <div class="clearfix"></div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-profile">
                <div class="card-avatar">
                    {% if success %}
                        <a href="#{{ request.user.username }}">
                    {% else %}
                        <a href="#{{ user.username }}">
                    {% endif %}

                    <img class="img" src="{{ avatar }}"/>
                    </a>
                </div>
                <div class="card-body">
                    <h6 class="card-category text-gray">
                        {% if success %}
                            {{ request.user.username }}
                        {% else %}
                            {{ user.username }}
                        {% endif %}
                    </h6>
                    <h4 class="card-title text-danger">
                        {% if success %}
                            {{ request.user.email }}
                        {% else %}
                            {{ user.email }}
                        {% endif %}
                    </h4>
                    <p class="card-description">
                        {{ user.avatar.url }}
                        Don't be scared of the truth because we need to restart the human foundation in truth And I love
                        you like Kanye loves Kanye I love Rick Owensâ€™ bed design but the back is...
                    </p>

                </div>
            </div>
        </div>
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
